<nz-dropdown-menu #menu="nzDropdownMenu">
  <ul nz-menu>
    <!-- these could be their own little components -->
    <!-- like app-edit-user-action or app-delete-user-action -->
    <!-- but its fine for now , i dont wanna overthink it -->
    <li nz-menu-item>
      <app-generic-modal #modal title="Edit User">
        <span modalTrigger class="edit-btn">Edit</span>
        <app-edit-user-form
          *ngIf="contextUser"
          modalContent
          (onClose)="modal.hideModal()"
        ></app-edit-user-form>
      </app-generic-modal>
    </li>
    <li nz-menu-item (click)="showDeleteConfirm()">Delete</li>

    @for (role of roleOptions; track role) {
    <li nz-menu-item (click)="onChangeRole(role)">
      Change role to {{ role | titlecase }}
    </li>
    } @if (contextUser?.role === 'writer'){
    <app-generic-modal #modal [title]="`Books by ${contextUser?.name}`"
      >>
      <li nz-menu-item modalTrigger>Show Books</li>
      <app-user-books *ngIf="contextUser" modalContent />
    </app-generic-modal>
    }
  </ul>
</nz-dropdown-menu>
